const header=document.querySelector("header");window.addEventListener("scroll",(()=>{window.scrollY>0?header.classList.add("scrolled"):header.classList.remove("scrolled")})),addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("openMenu"),t=document.getElementById("closeMenu"),r=document.getElementById("menu"),n=document.querySelector("body");e.addEventListener("click",(function(){r.classList.add("open"),n.classList.add("shadow")})),t.addEventListener("click",(function(){r.classList.remove("open"),n.classList.remove("shadow")}))}));const btnToggle=document.querySelector(".repair-btn button"),wrapper=document.querySelector(".repair-slider"),swiperWrapper=wrapper.querySelector(".swiper-wrapper");let repairSwiper=initSwiper(),expanded=!1;function initSwiper(){return new Swiper(".repair-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"}})}btnToggle.addEventListener("click",(()=>{expanded=!expanded,expanded?(repairSwiper.destroy(!0,!0),wrapper.classList.add("expanded"),btnToggle.textContent="Скрыть"):(repairSwiper=initSwiper(),wrapper.classList.remove("expanded"),btnToggle.textContent="Показать все")}));const servicesOpen=document.querySelector(".services__btn button"),servicesItems=document.querySelector(".services__items");let service=!1;servicesOpen.addEventListener("click",(()=>{service=!service,service?(servicesItems.classList.add("service"),servicesOpen.textContent="Скрыть"):(servicesItems.classList.remove("service"),servicesOpen.textContent="Показать все")}));var aboutSwiper=new Swiper(".aboutSwiper",{pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});let promotionSwiper;const promotionWrapper=document.querySelector(".promotionSwiper .swiper-wrapper"),originalHTML=promotionWrapper.innerHTML;function initPromotionSwiper(e=1){promotionSwiper&&promotionSwiper.destroy(!0,!0),promotionSwiper=new Swiper(".promotionSwiper",{slidesPerView:2,spaceBetween:16,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{991:{slidesPerView:"auto",spaceBetween:30},768:{slidesPerView:2,spaceBetween:16},375:{slidesPerView:1,spaceBetween:16}}})}function restructureSlidesForMobile(){const e=Array.from(promotionWrapper.querySelectorAll(".promotion__item"));promotionWrapper.innerHTML="",e.forEach((e=>{const t=document.createElement("div");t.className="swiper-slide",t.appendChild(e.cloneNode(!0)),promotionWrapper.appendChild(t)}))}function restoreOriginalSlides(){promotionWrapper.innerHTML=originalHTML}function handleResize(){window.innerWidth<=991?(restructureSlidesForMobile(),initPromotionSwiper(1)):(restoreOriginalSlides(),initPromotionSwiper(2))}const tabs=document.querySelectorAll(".price__tab"),contents=document.querySelectorAll("[data-tab-content]");tabs.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.tab;tabs.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),contents.forEach((e=>{e.style.display=e.dataset.tabContent===t?"flex":"none"}))}))})),tabs[0].click(),window.addEventListener("DOMContentLoaded",handleResize),window.addEventListener("resize",handleResize);const openBtn=document.querySelectorAll(".open-form-btn"),modal=document.querySelector(".feedback-modal");openBtn.forEach((e=>{e.addEventListener("click",(()=>{modal.classList.add("active")}))})),modal.addEventListener("click",(e=>{e.target===modal&&modal.classList.remove("active")}));var sertSwiper=new Swiper(".sertSwiper",{slidesPerView:3,spaceBetween:16,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{991:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:2,spaceBetween:15},576:{slidesPerView:2,spaceBetween:10},400:{slidesPerView:2,spaceBetween:10},375:{slidesPerView:1,spaceBetween:10}}});$(".phone").mask("+7(999) 999-99-99");