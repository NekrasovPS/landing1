document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("header"),t=document.getElementById("openMenu"),n=document.getElementById("closeMenu"),i=document.getElementById("menu"),r=document.body,s=document.querySelector(".repair-btn button"),o=document.querySelector(".repair-slider"),a=(o.querySelector(".swiper-wrapper"),document.querySelector(".services__btn button")),c=document.querySelector(".services__items"),d=document.querySelectorAll(".price__tab"),l=document.querySelectorAll("[data-tab-content]"),p=document.querySelectorAll(".open-form-btn"),w=document.querySelector(".feedback-modal"),u=document.querySelector(".promotionSwiper .swiper-wrapper"),m=u.innerHTML;let v,E=!1,L=!1,b=y();function y(){return new Swiper(".repair-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"}})}function S(){v&&v.destroy(!0,!0),v=new Swiper(".promotionSwiper",{slidesPerView:2,spaceBetween:16,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{991:{slidesPerView:"auto",spaceBetween:30},768:{slidesPerView:2,spaceBetween:16},375:{slidesPerView:1,spaceBetween:16}}})}function g(){window.innerWidth<=991?(!function(){const e=Array.from(u.querySelectorAll(".promotion__item"));u.innerHTML="",e.forEach((e=>{const t=document.createElement("div");t.className="swiper-slide",t.appendChild(e.cloneNode(!0)),u.appendChild(t)}))}(),S()):(u.innerHTML=m,S())}window.addEventListener("scroll",(()=>{e.classList.toggle("scrolled",window.scrollY>0)})),t?.addEventListener("click",(()=>{i.classList.add("open"),r.classList.add("shadow")})),n?.addEventListener("click",(()=>{i.classList.remove("open"),r.classList.remove("shadow")})),s?.addEventListener("click",(()=>{E=!E,E?(b.destroy(!0,!0),o.classList.add("expanded"),s.textContent="Скрыть"):(b=y(),o.classList.remove("expanded"),s.textContent="Показать все")})),a?.addEventListener("click",(()=>{L=!L,c.classList.toggle("service",L),a.textContent=L?"Скрыть":"Показать все"})),new Swiper(".aboutSwiper",{pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".sertSwiper",{slidesPerView:3,spaceBetween:16,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{991:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:2,spaceBetween:15},576:{slidesPerView:2,spaceBetween:10},400:{slidesPerView:2,spaceBetween:10},375:{slidesPerView:1,spaceBetween:10}}}),d.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.tab;d.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),l.forEach((e=>{e.style.display=e.dataset.tabContent===t?"flex":"none"}))}))})),d[0]?.click(),window.addEventListener("resize",g),g(),p.forEach((e=>{e.addEventListener("click",(()=>w.classList.add("active")))})),w?.addEventListener("click",(e=>{e.target===w&&w.classList.remove("active")})),window.jQuery&&$(".phone").mask("+7(999) 999-99-99")}));